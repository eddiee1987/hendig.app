(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4780:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(49384),a=r(82348);function n(...e){return(0,a.QP)((0,s.$)(e))}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},13653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(65239),a=r(48088),n=r(88170),i=r.n(n),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80559)),"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\dashboard\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},16391:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var s=r(94025);let a="https://jntsodzdafscwksizfov.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpudHNvZHpkYWZzY3drc2l6Zm92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1NTU1NDAsImV4cCI6MjA1OTEzMTU0MH0.bHJS17KYKP4n2Abs0rp2oO0pFBGW3GorNhsJFyDljR8";console.log("Supabase URL:",a),console.log("Supabase Anon Key:",n?"Set":"Not set"),a&&n||console.error("Supabase credentials are not set correctly in environment variables");let i=(0,s.UU)(a,n)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27181:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},27910:e=>{"use strict";e.exports=require("stream")},28735:(e,t,r)=>{Promise.resolve().then(r.bind(r,37590)),Promise.resolve().then(r.bind(r,29190))},29190:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var s=r(60687),a=r(85814),n=r.n(a),i=r(43210),l=r(16189),o=r(4780),d=r(50515),c=r(27446),m=r(724),h=r(45667),x=r(2969),u=r(83188),p=r(87061),g=r(45994),f=r(81836),b=r(6510);function j(){let[e,t]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),j=(0,l.usePathname)(),v=e||r,N=[{href:"/timeforing",icon:d.A,label:"Timef\xf8ring"},{href:"/inspeksjoner",icon:c.A,label:"Inspeksjoner"},{href:"/abonnement",icon:m.A,label:"Abonnement"},{href:"/prosjekter",icon:h.A,label:"Prosjekter"},{href:"/planlegging",icon:x.A,label:"Planlegging"},{href:"/kunder",icon:u.A,label:"Kunder"},{href:"/ansatte",icon:p.A,label:"Ansatte"},{href:"/rapport",icon:g.A,label:"Rapport"}];return(0,s.jsxs)("nav",{className:(0,o.cn)("fixed left-0 top-0 h-screen bg-gray-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out z-10",v?"w-64":"w-16"),onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},children:["a",(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center border-b border-gray-800",v?"justify-between p-6":"justify-center p-4"),children:[v&&(0,s.jsx)(n(),{href:"/dashboard",className:"text-2xl font-bold text-white",children:"Hendig"}),(0,s.jsx)("button",{onClick:()=>{t(!e)},className:"text-gray-400 hover:text-white transition-colors","aria-label":e?"Minimer meny":"Utvid meny",children:e?(0,s.jsx)(f.A,{className:"w-5 h-5"}):(0,s.jsx)(b.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex-1 p-2",children:(0,s.jsx)("ul",{className:"space-y-2",children:N.map(e=>{let t=j===e.href,r=e.icon;return(0,s.jsx)("li",{children:(0,s.jsxs)(n(),{href:e.href,className:(0,o.cn)("flex items-center p-3 rounded-lg transition-colors",t?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white",!v&&"justify-center"),title:v?void 0:e.label,children:[(0,s.jsx)(r,{className:(0,o.cn)("w-5 h-5",v?"mr-3":"mx-auto")}),v&&(0,s.jsx)("span",{children:e.label})]})},e.href)})})}),(0,s.jsx)("div",{className:(0,o.cn)("border-t border-gray-800",v?"p-4":"p-2"),children:(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center p-3 rounded-lg hover:bg-gray-800 transition-colors",!v&&"justify-center"),children:[(0,s.jsx)(u.A,{className:(0,o.cn)("w-8 h-8 text-gray-400",v?"mr-3":"")}),v&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"admin@example.com"})]})]})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30004:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Eidsheim\\\\Kopi av driftig 10.04.25\\\\.ssh\\\\driftig\\\\src\\\\components\\\\Navbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\components\\Navbar.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},46887:(e,t,r)=>{Promise.resolve().then(r.bind(r,5625)),Promise.resolve().then(r.bind(r,30004))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},74445:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},78650:(e,t,r)=>{Promise.resolve().then(r.bind(r,84019))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Eidsheim\\\\Kopi av driftig 10.04.25\\\\.ssh\\\\driftig\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\dashboard\\page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},84019:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(60687),a=r(43210),n=r(85814),i=r.n(n);function l(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)("");return r?(0,s.jsx)("div",{children:"Loading weather..."}):i?(0,s.jsx)("div",{className:"text-red-500",children:i}):(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow p-4 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2 text-white",children:"V\xe6rvarsel for Nesbyen"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-4 xl:gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-300",children:new Date(e.date).toLocaleDateString("no-NO",{weekday:"short"})}),(0,s.jsx)("img",{src:`https://openweathermap.org/img/wn/${e.icon}.png`,alt:e.description,className:"mx-auto"}),(0,s.jsxs)("div",{className:"font-medium text-white",children:[Math.round(e.temp),"\xb0C"]})]},e.date))})]})}r(16391),r(93996),r(29789),r(51877);var o=r(58505),d=r(87981),c=r(23711);let m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},h=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p(e){return e?parseInt(e):1}function g(e){return e&&parseFloat(e.replace(",","."))||0}let f=[31,null,31,30,31,30,31,31,30,31,30,31];function b(e){return e%400==0||e%4==0&&e%100!=0}var j=r(13644);function v(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)("");return r?(0,s.jsx)("div",{children:"Loading maintenance schedule..."}):i?(0,s.jsx)("div",{className:"text-red-500",children:i}):(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow p-4 border border-gray-700 mt-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Planlagt vedlikehold denne uken"}),0===e.length?(0,s.jsx)("div",{className:"text-gray-300",children:"Du har ingen planlagte jobber denne uken"}):(0,s.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"text-white",children:e.projects?.name||"Ukjent prosjekt"}),(0,s.jsx)("div",{className:"text-gray-300 text-sm",children:(0,j.GP)(function(e,t){let r,s,a=()=>(0,d.w)(void 0,NaN),n=(void 0)??2,i=function(e){let t,r={},s=e.split(m.dateTimeDelimiter);if(s.length>2)return r;if(/:/.test(s[0])?t=s[0]:(r.date=s[0],t=s[1],m.timeZoneDelimiter.test(r.date)&&(r.date=e.split(m.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){let e=m.timezone.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(i.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};let a=s[1]?parseInt(s[1]):null,n=s[2]?parseInt(s[2]):null;return{year:null===n?a:100*n,restDateString:e.slice((s[1]||s[2]).length)}}(i.date,n);r=function(e,t){var r,s,a,n,i,l,o,d;if(null===t)return new Date(NaN);let c=e.match(h);if(!c)return new Date(NaN);let m=!!c[4],x=p(c[1]),u=p(c[2])-1,g=p(c[3]),j=p(c[4]),v=p(c[5])-1;if(m){return(r=0,s=j,a=v,s>=1&&s<=53&&a>=0&&a<=6)?function(e,t,r){let s=new Date(0);s.setUTCFullYear(e,0,4);let a=s.getUTCDay()||7;return s.setUTCDate(s.getUTCDate()+((t-1)*7+r+1-a)),s}(t,j,v):new Date(NaN)}{let e=new Date(0);return(n=t,i=u,l=g,i>=0&&i<=11&&l>=1&&l<=(f[i]||(b(n)?29:28))&&(o=t,(d=x)>=1&&d<=(b(o)?366:365)))?(e.setUTCFullYear(t,u,Math.max(x,g)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(+r))return a();let l=+r,j=0;if(i.time&&isNaN(j=function(e){var t,r,s;let a=e.match(x);if(!a)return NaN;let n=g(a[1]),i=g(a[2]),l=g(a[3]);return(t=n,r=i,s=l,24===t?0===r&&0===s:s>=0&&s<60&&r>=0&&r<60&&t>=0&&t<25)?n*o.s0+i*o.Cg+1e3*l:NaN}(i.time)))return a();if(i.timezone){if(isNaN(s=function(e){var t,r;if("Z"===e)return 0;let s=e.match(u);if(!s)return 0;let a="+"===s[1]?-1:1,n=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;return(t=0,(r=i)>=0&&r<=59)?a*(n*o.s0+i*o.Cg):NaN}(i.timezone)))return a()}else{let e=new Date(l+j),r=(0,c.a)(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return(0,c.a)(l+j+s,t?.in)}(e.scheduled_date),"EEEE dd.MM")})]},e.id))})]})}function N(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[o,d]=(0,a.useState)({totalCustomers:0,pendingSpringMaintenance:0,pendingFallMaintenance:0,activeProjects:0}),[c,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(""),[u,p]=(0,a.useState)([{id:"1",task:"Bestille jord til Torvullvegen",completed:!1,createdAt:new Date().toISOString()},{id:"2",task:"Legge membran Nattenvegen 332",completed:!1,createdAt:new Date().toISOString()},{id:"3",task:"Ringe Kaugerud transport",completed:!1,createdAt:new Date().toISOString()}]),[g,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(!1);return(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 p-4 md:p-8 ml-0 md:ml-64",children:(0,s.jsxs)("div",{className:"max-w-full md:max-w-7xl xl:w-[140%] xl:-ml-[20%] mx-auto",children:[(0,s.jsx)("p",{className:"text-2xl text-gray-400",children:new Date().toLocaleDateString("no-NO",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),(0,s.jsxs)("h1",{className:"text-4xl font-bold text-white",children:[h,", ","Edgar"]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Oversikt over aktiviteter og status"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-gray-400",children:"Aktive prosjekter"}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-900/50 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white mt-2",children:c?(0,s.jsx)("span",{className:"inline-block w-8 h-6 bg-gray-700 animate-pulse rounded"}):o.activeProjects})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-gray-400",children:"Registrerte abonnementer"}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-900/50 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white mt-2",children:c?(0,s.jsx)("span",{className:"inline-block w-8 h-6 bg-gray-700 animate-pulse rounded"}):o.totalCustomers})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-gray-400",children:"Gjenst\xe5r v\xe5rvedlikehold"}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-900/50 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white mt-2",children:c?(0,s.jsx)("span",{className:"inline-block w-8 h-6 bg-gray-700 animate-pulse rounded"}):o.pendingSpringMaintenance})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-gray-400",children:"Gjenst\xe5r h\xf8stvedlikehold"}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-yellow-900/50 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white mt-2",children:c?(0,s.jsx)("span",{className:"inline-block w-8 h-6 bg-gray-700 animate-pulse rounded"}):o.pendingFallMaintenance})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Todo-liste"}),(0,s.jsx)("button",{className:"text-sm text-blue-400 hover:text-blue-300",onClick:()=>j(!b),children:"Legg til"})]}),b&&(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),g.trim()&&(p([...u,{id:Date.now().toString(),task:g,completed:!1,createdAt:new Date().toISOString()}]),f(""),j(!1))},className:"mb-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:g,onChange:e=>f(e.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ny oppgave",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Lagre"})]})}),(0,s.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-700/50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{className:`w-5 h-5 rounded border ${e.completed?"bg-blue-500 border-blue-500":"border-gray-500"}`,onClick:()=>p(u.map(t=>t.id===e.id?{...t,completed:!t.completed}:t)),children:e.completed&&(0,s.jsx)("svg",{className:"w-3 h-3 mx-auto text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("p",{className:`text-white ${e.completed?"line-through text-gray-500":""}`,children:e.task})]}),(0,s.jsx)("button",{className:"text-gray-400 hover:text-red-400",onClick:()=>p(u.filter(t=>t.id!==e.id)),children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l,{}),(0,s.jsx)(v,{})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-4 md:p-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Nylige aktiviteter"}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-700 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white",children:"Ny timef\xf8ring registrert"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Prosjekt: Kundeportal"})]})]}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"2 timer siden"})]},e))})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Kommende fornyelser"}),(0,s.jsx)(i(),{href:"/abonnement",className:"text-sm text-blue-400 hover:text-blue-300",children:"Se alle"})]}),c?(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"h-12 bg-gray-700 animate-pulse rounded"},e))}):r.length>0?(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white",children:e.etternavn}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e.adresse})]})]}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:e.fornyelsesdato?new Date(e.fornyelsesdato).toLocaleDateString("no-NO"):"Ikke satt"})]},e.id))}):(0,s.jsx)("p",{className:"text-gray-400",children:"Ingen kommende fornyelser"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Vedlikehold status"}),(0,s.jsx)(i(),{href:"/abonnement",className:"text-sm text-blue-400 hover:text-blue-300",children:"Se detaljer"})]}),c?(0,s.jsx)("div",{className:"space-y-4",children:[1,2].map(e=>(0,s.jsx)("div",{className:"h-16 bg-gray-700 animate-pulse rounded mb-4"},e))}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"V\xe5rvedlikehold"}),(0,s.jsxs)("span",{className:"text-white",children:[o.pendingSpringMaintenance," gjenst\xe5r"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${o.totalCustomers>0?(o.totalCustomers-o.pendingSpringMaintenance)/o.totalCustomers*100:0}%`}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"H\xf8stvedlikehold"}),(0,s.jsxs)("span",{className:"text-white",children:[o.pendingFallMaintenance," gjenst\xe5r"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${o.totalCustomers>0?(o.totalCustomers-o.pendingFallMaintenance)/o.totalCustomers*100:0}%`}})})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-700",children:(0,s.jsx)(i(),{href:"/abonnement/historikk",className:"text-sm text-blue-400 hover:text-blue-300",children:"Se tidligere vedlikehold"})})]})]})]})]})})}},89266:(e,t,r)=>{Promise.resolve().then(r.bind(r,80559))},91645:e=>{"use strict";e.exports=require("net")},93996:(e,t,r)=>{"use strict";r.d(t,{JQ:()=>a,Ub:()=>c,Z4:()=>d,gA:()=>n,ui:()=>o,vr:()=>i,xx:()=>l});var s=r(16391);async function a(){let{data:e,error:t}=await s.N.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching projects:",t),t;return e||[]}async function n(e){console.log("Creating project with data:",e);try{console.log("Supabase client:",s.N);let{data:t,error:r}=await s.N.from("projects").select("id").limit(1);if(r)throw console.error("Error checking projects table:",r),Error(`Table check failed: ${r.message}`);console.log("Table check result:",t);let{data:a,error:n}=await s.N.from("projects").insert([e]).select();if(n)throw console.error("Error creating project:",n),Error(`Insert failed: ${n.message}`);return console.log("Project created successfully:",a),a?.[0]}catch(e){throw console.error("Exception in createProject:",e),e}}async function i(e,t){console.log("Updating project with id:",e,"and data:",t);try{let{data:r,error:a}=await s.N.from("projects").update(t).eq("id",e).select();if(a)throw console.error(`Error updating project with id ${e}:`,a),a;return console.log("Project updated successfully:",r),r?.[0]}catch(t){throw console.error(`Exception in updateProject for id ${e}:`,t),t}}async function l(e){let{error:t}=await s.N.from("projects").delete().eq("id",e);if(t)throw console.error(`Error deleting project with id ${e}:`,t),t;return!0}async function o(){let{data:e,error:t}=await s.N.from("scheduled_projects").select(`
      *,
      projects:project_id (*)
    `).order("scheduled_date",{ascending:!0});if(t)throw console.error("Error fetching scheduled projects:",t),t;return e||[]}async function d(e,t){let{data:r,error:a}=await s.N.from("scheduled_projects").insert([{project_id:e,scheduled_date:t}]).select();if(a)throw console.error(`Error scheduling project ${e} for date ${t}:`,a),a;return r?.[0]}async function c(e,t){let{error:r}=await s.N.from("scheduled_projects").delete().eq("project_id",e).eq("scheduled_date",t);if(r)throw console.error(`Error unscheduling project ${e} for date ${t}:`,r),r;return!0}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(37413);r(61135);var a=r(30004),n=r(5625);let i={title:"Driftig",description:"Driftig - Administrasjonssystem"};function l({children:e}){return(0,s.jsx)("html",{lang:"no",className:"dark",children:(0,s.jsxs)("body",{className:"bg-gray-900 text-gray-100",children:[(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)("main",{className:"flex-1 transition-all duration-300 ml-16 p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]}),(0,s.jsx)(n.Toaster,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,115,658,25,644],()=>r(13653));module.exports=s})();