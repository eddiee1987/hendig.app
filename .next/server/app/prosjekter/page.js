(()=>{var e={};e.id=22,e.ids=[22],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4780:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(49384),i=r(82348);function n(...e){return(0,i.QP)((0,s.$)(e))}},7058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Eidsheim\\\\Kopi av driftig 10.04.25\\\\.ssh\\\\driftig\\\\src\\\\app\\\\prosjekter\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\prosjekter\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14807:(e,t,r)=>{Promise.resolve().then(r.bind(r,7058))},16391:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(94025);let i="https://jntsodzdafscwksizfov.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpudHNvZHpkYWZzY3drc2l6Zm92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1NTU1NDAsImV4cCI6MjA1OTEzMTU0MH0.bHJS17KYKP4n2Abs0rp2oO0pFBGW3GorNhsJFyDljR8";console.log("Supabase URL:",i),console.log("Supabase Anon Key:",n?"Set":"Not set"),i&&n||console.error("Supabase credentials are not set correctly in environment variables");let a=(0,s.UU)(i,n)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19535:(e,t,r)=>{Promise.resolve().then(r.bind(r,93580))},27181:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},27910:e=>{"use strict";e.exports=require("stream")},28735:(e,t,r)=>{Promise.resolve().then(r.bind(r,37590)),Promise.resolve().then(r.bind(r,29190))},29190:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var s=r(60687),i=r(85814),n=r.n(i),a=r(43210),o=r(16189),l=r(4780),d=r(50515),c=r(27446),u=r(724),p=r(45667),x=r(2969),m=r(83188),g=r(87061),h=r(45994),b=r(81836),f=r(6510);function j(){let[e,t]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),j=(0,o.usePathname)(),v=e||r,y=[{href:"/timeforing",icon:d.A,label:"Timef\xf8ring"},{href:"/inspeksjoner",icon:c.A,label:"Inspeksjoner"},{href:"/abonnement",icon:u.A,label:"Abonnement"},{href:"/prosjekter",icon:p.A,label:"Prosjekter"},{href:"/planlegging",icon:x.A,label:"Planlegging"},{href:"/kunder",icon:m.A,label:"Kunder"},{href:"/ansatte",icon:g.A,label:"Ansatte"},{href:"/rapport",icon:h.A,label:"Rapport"}];return(0,s.jsxs)("nav",{className:(0,l.cn)("fixed left-0 top-0 h-screen bg-gray-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out z-10",v?"w-64":"w-16"),onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},children:["a",(0,s.jsxs)("div",{className:(0,l.cn)("flex items-center border-b border-gray-800",v?"justify-between p-6":"justify-center p-4"),children:[v&&(0,s.jsx)(n(),{href:"/dashboard",className:"text-2xl font-bold text-white",children:"Hendig"}),(0,s.jsx)("button",{onClick:()=>{t(!e)},className:"text-gray-400 hover:text-white transition-colors","aria-label":e?"Minimer meny":"Utvid meny",children:e?(0,s.jsx)(b.A,{className:"w-5 h-5"}):(0,s.jsx)(f.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex-1 p-2",children:(0,s.jsx)("ul",{className:"space-y-2",children:y.map(e=>{let t=j===e.href,r=e.icon;return(0,s.jsx)("li",{children:(0,s.jsxs)(n(),{href:e.href,className:(0,l.cn)("flex items-center p-3 rounded-lg transition-colors",t?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white",!v&&"justify-center"),title:v?void 0:e.label,children:[(0,s.jsx)(r,{className:(0,l.cn)("w-5 h-5",v?"mr-3":"mx-auto")}),v&&(0,s.jsx)("span",{children:e.label})]})},e.href)})})}),(0,s.jsx)("div",{className:(0,l.cn)("border-t border-gray-800",v?"p-4":"p-2"),children:(0,s.jsxs)("div",{className:(0,l.cn)("flex items-center p-3 rounded-lg hover:bg-gray-800 transition-colors",!v&&"justify-center"),children:[(0,s.jsx)(m.A,{className:(0,l.cn)("w-8 h-8 text-gray-400",v?"mr-3":"")}),v&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"admin@example.com"})]})]})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30004:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Eidsheim\\\\Kopi av driftig 10.04.25\\\\.ssh\\\\driftig\\\\src\\\\components\\\\Navbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\components\\Navbar.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},46887:(e,t,r)=>{Promise.resolve().then(r.bind(r,5625)),Promise.resolve().then(r.bind(r,30004))},54453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),a=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["prosjekter",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7058)),"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\prosjekter\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\prosjekter\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/prosjekter/page",pathname:"/prosjekter",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},74445:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},93580:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(60687),i=r(43210),n=r(93996),a=r(37590);let o=e=>{let t={name:e.name||"",description:e.description||"",client:e.client||"",status:e.status||"active",start_date:e.startDate||new Date().toISOString().split("T")[0],priority:e.priority||"medium"};return e.endDate&&""!==e.endDate&&(t.end_date=e.endDate),void 0!==e.budget&&null!==e.budget&&(t.budget=e.budget),console.log("Converted project for Supabase:",t),t},l=e=>({id:e.id,name:e.name,description:e.description,client:e.client,status:e.status,startDate:e.start_date,endDate:e.end_date,budget:e.budget?Number(e.budget):void 0,priority:e.priority});function d(){let[e,t]=(0,i.useState)([]),[r,d]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[p,x]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[h,b]=(0,i.useState)({name:"",description:"",client:"",status:"active",startDate:new Date().toISOString().split("T")[0],endDate:"",budget:void 0,priority:"medium"}),f=async r=>{if(r.preventDefault(),h.name&&h.client)try{let r=o(h),s=await (0,n.gA)(r);s&&(t([l(s),...e]),a.oR.success("Prosjekt opprettet")),b({name:"",description:"",client:"",status:"active",startDate:new Date().toISOString().split("T")[0],endDate:"",budget:void 0,priority:"medium"}),u(!1)}catch(e){console.error("Error creating project:",e),a.oR.error("Kunne ikke opprette prosjekt")}},j=async r=>{if(window.confirm("Er du sikker p\xe5 at du vil slette dette prosjektet?"))try{await (0,n.xx)(r),t(e.filter(e=>e.id!==r)),a.oR.success("Prosjekt slettet")}catch(e){console.error("Error deleting project:",e),a.oR.error("Kunne ikke slette prosjekt")}},v=async(r,s)=>{try{if(!e.find(e=>e.id===r))return;await (0,n.vr)(r,{status:s}),t(e.map(e=>e.id===r?{...e,status:s}:e)),a.oR.success("Status oppdatert")}catch(e){console.error("Error updating project status:",e),a.oR.error("Kunne ikke oppdatere status")}},y=e=>{g(e),x(!0)},w=async r=>{if(r.preventDefault(),m)try{let r=o(m);await (0,n.vr)(m.id,r),t(e.map(e=>e.id===m.id?m:e)),a.oR.success("Prosjekt oppdatert"),x(!1),g(null)}catch(e){console.error("Error updating project:",e),a.oR.error("Kunne ikke oppdatere prosjekt")}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Prosjekter"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Administrer dine prosjekter"})]}),(0,s.jsxs)("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-sm transition-all duration-200",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,s.jsx)("span",{children:"Nytt prosjekt"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.name}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"active"===e.status?"bg-blue-900/50 text-blue-400":"completed"===e.status?"bg-green-900/50 text-green-400":"bg-gray-900/50 text-gray-400"}`,children:e.status})]}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:e.description}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Klient: ",(0,s.jsx)("span",{className:"text-white",children:e.client})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Startdato: ",(0,s.jsx)("span",{className:"text-white",children:new Date(e.startDate).toLocaleDateString("nb-NO")})]}),e.endDate&&(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Sluttdato: ",(0,s.jsx)("span",{className:"text-white",children:new Date(e.endDate).toLocaleDateString("nb-NO")})]}),e.budget&&(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Budsjett: ",(0,s.jsxs)("span",{className:"text-white",children:[e.budget.toLocaleString("nb-NO")," kr"]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Prioritet: ",(0,s.jsx)("span",{className:`${"high"===e.priority?"text-red-400":"medium"===e.priority?"text-yellow-400":"text-green-400"}`,children:e.priority})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("button",{onClick:()=>y(e),className:"px-3 py-1 rounded-lg text-sm bg-blue-900/50 text-blue-400 hover:bg-blue-900/70",children:"Endre"}),(0,s.jsx)("button",{onClick:()=>v(e.id,"active"),className:`px-3 py-1 rounded-lg text-sm ${"active"===e.status?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Aktiv"}),(0,s.jsx)("button",{onClick:()=>v(e.id,"completed"),className:`px-3 py-1 rounded-lg text-sm ${"completed"===e.status?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Fullf\xf8rt"}),(0,s.jsx)("button",{onClick:()=>v(e.id,"archived"),className:`px-3 py-1 rounded-lg text-sm ${"archived"===e.status?"bg-gray-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"Arkivert"}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"px-3 py-1 rounded-lg text-sm bg-red-900/50 text-red-400 hover:bg-red-900/70",children:"Slett"})]})]},e.id))}),p&&m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Endre prosjekt"}),(0,s.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prosjektnavn"}),(0,s.jsx)("input",{type:"text",value:m.name,onChange:e=>g({...m,name:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Beskrivelse"}),(0,s.jsx)("textarea",{value:m.description,onChange:e=>g({...m,description:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Klient"}),(0,s.jsx)("input",{type:"text",value:m.client,onChange:e=>g({...m,client:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),(0,s.jsxs)("select",{value:m.status,onChange:e=>g({...m,status:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"active",children:"Aktiv"}),(0,s.jsx)("option",{value:"completed",children:"Fullf\xf8rt"}),(0,s.jsx)("option",{value:"archived",children:"Arkivert"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prioritet"}),(0,s.jsxs)("select",{value:m.priority,onChange:e=>g({...m,priority:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"low",children:"Lav"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"H\xf8y"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Startdato"}),(0,s.jsx)("input",{type:"date",value:m.startDate,onChange:e=>g({...m,startDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Sluttdato"}),(0,s.jsx)("input",{type:"date",value:m.endDate||"",onChange:e=>g({...m,endDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Budsjett"}),(0,s.jsx)("input",{type:"number",value:m.budget||"",onChange:e=>g({...m,budget:e.target.value?Number(e.target.value):void 0}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{x(!1),g(null)},className:"px-4 py-2 text-gray-400 hover:text-white",children:"Avbryt"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Lagre endringer"})]})]})]})}),c&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Nytt prosjekt"}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prosjektnavn"}),(0,s.jsx)("input",{type:"text",value:h.name,onChange:e=>b({...h,name:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Beskrivelse"}),(0,s.jsx)("textarea",{value:h.description,onChange:e=>b({...h,description:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Klient"}),(0,s.jsx)("input",{type:"text",value:h.client,onChange:e=>b({...h,client:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Startdato"}),(0,s.jsx)("input",{type:"date",value:h.startDate,onChange:e=>b({...h,startDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Sluttdato"}),(0,s.jsx)("input",{type:"date",value:h.endDate||"",onChange:e=>b({...h,endDate:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Budsjett"}),(0,s.jsx)("input",{type:"number",value:h.budget||"",onChange:e=>b({...h,budget:e.target.value?Number(e.target.value):void 0}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prioritet"}),(0,s.jsxs)("select",{value:h.priority,onChange:e=>b({...h,priority:e.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"low",children:"Lav"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"H\xf8y"})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mt-6",children:"Lagre"})]})]})})]})})}},93996:(e,t,r)=>{"use strict";r.d(t,{JQ:()=>i,Ub:()=>c,Z4:()=>d,gA:()=>n,ui:()=>l,vr:()=>a,xx:()=>o});var s=r(16391);async function i(){let{data:e,error:t}=await s.N.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching projects:",t),t;return e||[]}async function n(e){console.log("Creating project with data:",e);try{console.log("Supabase client:",s.N);let{data:t,error:r}=await s.N.from("projects").select("id").limit(1);if(r)throw console.error("Error checking projects table:",r),Error(`Table check failed: ${r.message}`);console.log("Table check result:",t);let{data:i,error:n}=await s.N.from("projects").insert([e]).select();if(n)throw console.error("Error creating project:",n),Error(`Insert failed: ${n.message}`);return console.log("Project created successfully:",i),i?.[0]}catch(e){throw console.error("Exception in createProject:",e),e}}async function a(e,t){console.log("Updating project with id:",e,"and data:",t);try{let{data:r,error:i}=await s.N.from("projects").update(t).eq("id",e).select();if(i)throw console.error(`Error updating project with id ${e}:`,i),i;return console.log("Project updated successfully:",r),r?.[0]}catch(t){throw console.error(`Exception in updateProject for id ${e}:`,t),t}}async function o(e){let{error:t}=await s.N.from("projects").delete().eq("id",e);if(t)throw console.error(`Error deleting project with id ${e}:`,t),t;return!0}async function l(){let{data:e,error:t}=await s.N.from("scheduled_projects").select(`
      *,
      projects:project_id (*)
    `).order("scheduled_date",{ascending:!0});if(t)throw console.error("Error fetching scheduled projects:",t),t;return e||[]}async function d(e,t){let{data:r,error:i}=await s.N.from("scheduled_projects").insert([{project_id:e,scheduled_date:t}]).select();if(i)throw console.error(`Error scheduling project ${e} for date ${t}:`,i),i;return r?.[0]}async function c(e,t){let{error:r}=await s.N.from("scheduled_projects").delete().eq("project_id",e).eq("scheduled_date",t);if(r)throw console.error(`Error unscheduling project ${e} for date ${t}:`,r),r;return!0}},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(37413);r(61135);var i=r(30004),n=r(5625);let a={title:"Driftig",description:"Driftig - Administrasjonssystem"};function o({children:e}){return(0,s.jsx)("html",{lang:"no",className:"dark",children:(0,s.jsxs)("body",{className:"bg-gray-900 text-gray-100",children:[(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)(i.default,{}),(0,s.jsx)("main",{className:"flex-1 transition-all duration-300 ml-16 p-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]}),(0,s.jsx)(n.Toaster,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,115,658,25],()=>r(54453));module.exports=s})();