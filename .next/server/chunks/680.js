"use strict";exports.id=680,exports.ids=[680],exports.modules={93996:(e,t,r)=>{r.d(t,{JQ:()=>l,Ub:()=>c,Z4:()=>d,gA:()=>a,ui:()=>i,vr:()=>n,xx:()=>o});var s=r(16391);async function l(){let{data:e,error:t}=await s.ND.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching projects:",t),t;return e||[]}async function a(e){console.log("Creating project with data:",e);try{console.log("Supabase client:",s.ND);let{data:t,error:r}=await s.ND.from("projects").select("id").limit(1);if(r)throw console.error("Error checking projects table:",r),Error(`Table check failed: ${r.message}`);console.log("Table check result:",t);let{data:l,error:a}=await s.ND.from("projects").insert([e]).select();if(a)throw console.error("Error creating project:",a),Error(`Insert failed: ${a.message}`);return console.log("Project created successfully:",l),l?.[0]}catch(e){throw console.error("Exception in createProject:",e),e}}async function n(e,t){console.log("Updating project with id:",e,"and data:",t);try{let{data:r,error:l}=await s.ND.from("projects").update(t).eq("id",e).select();if(l)throw console.error(`Error updating project with id ${e}:`,l),l;return console.log("Project updated successfully:",r),r?.[0]}catch(t){throw console.error(`Exception in updateProject for id ${e}:`,t),t}}async function o(e){let{error:t}=await s.ND.from("projects").delete().eq("id",e);if(t)throw console.error(`Error deleting project with id ${e}:`,t),t;return!0}async function i(){let{data:e,error:t}=await s.ND.from("scheduled_projects").select(`
      *,
      projects:project_id (*)
    `).order("scheduled_date",{ascending:!0});if(t)throw console.error("Error fetching scheduled projects:",t),t;return e||[]}async function d(e,t){let{data:r,error:l}=await s.ND.from("scheduled_projects").insert([{project_id:e,scheduled_date:t}]).select();if(l)throw console.error(`Error scheduling project ${e} for date ${t}:`,l),l;return r?.[0]}async function c(e,t){let{error:r}=await s.ND.from("scheduled_projects").delete().eq("project_id",e).eq("scheduled_date",t);if(r)throw console.error(`Error unscheduling project ${e} for date ${t}:`,r),r;return!0}},94680:(e,t,r)=>{r.d(t,{A:()=>m});var s=r(60687),l=r(43210),a=r(2969);let n=l.forwardRef(function({title:e,titleId:t,...r},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),o=l.forwardRef(function({title:e,titleId:t,...r},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),i=l.forwardRef(function({title:e,titleId:t,...r},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});var d=r(93996),c=r(98980),x=r(37590);function m({projects:e,abonnements:t}){let[r,m]=(0,l.useState)("month"),[h,g]=(0,l.useState)(new Date),[u,b]=(0,l.useState)([]),[f,p]=(0,l.useState)([]),[j,v]=(0,l.useState)([]),[y,w]=(0,l.useState)("all"),[N,k]=(0,l.useState)(!1),[D,S]=(0,l.useState)(null),[$,O]=(0,l.useState)(null),[E,I]=(0,l.useState)(null),[C,L]=(0,l.useState)(null),[A,T]=(0,l.useState)(!0),[M,R]=(0,l.useState)("projects"),F=(0,l.useRef)(0),P=(0,l.useRef)(null),_=e=>["Man","Tirs","Ons","Tors","Fre","L\xf8r","S\xf8n"][e],U=e=>{S(e)},V=(e,t)=>{e.preventDefault()},z=e=>{e.preventDefault(),F.current++},q=e=>{e.preventDefault(),F.current--},K=async(e,t)=>{e.preventDefault(),F.current=0;let r=t.toISOString().split("T")[0];if(D){if(f.some(e=>e.id===D.id&&e.scheduledDate===r))return void S(null);try{let e=await (0,d.Z4)(D.id,r);if(e){let t={...D,scheduledDate:r,scheduledId:e.id};p([...f,t]),x.oR.success("Prosjekt planlagt")}}catch(e){console.error("Error scheduling project:",e),x.oR.error("Kunne ikke planlegge prosjekt")}finally{S(null)}}if($){if(!$.id){x.oR.error("Ugyldig vedlikeholdsavtale - mangler ID"),O(null);return}if(j.some(e=>e.id===$.id&&e.scheduledDate===r))return void O(null);try{console.log("Attempting to schedule abonnement:",{id:$.id,date:r});let e=await (0,c.lt)($.id,r);if(e){console.log("Successfully scheduled abonnement:",e);let t={...$,scheduledDate:r,scheduledId:e.id};v([...j,t]),x.oR.success("Vedlikeholdsavtale planlagt")}else console.error("No result returned from scheduleAbonnement"),x.oR.error("Ingen data returnert fra server")}catch(e){console.error("Detailed error scheduling abonnement:",{error:e instanceof Error?e.message:e,stack:e instanceof Error?e.stack:void 0,abonnementId:$.id,date:r}),e instanceof Error?e.message.includes("JWT expired")||e.message.includes("Invalid API key")?x.oR.error("Autentiseringsfeil - sjekk API-n\xf8kkel"):e.message.includes("foreign key constraint")?x.oR.error("Ugyldig vedlikeholdsavtale-ID"):x.oR.error(`Feil ved planlegging: ${e.message}`):x.oR.error("Ukjent feil ved planlegging")}finally{O(null)}}},W=async(e,t)=>{try{await (0,d.Ub)(e,t),p(f.filter(r=>r.id!==e||r.scheduledDate!==t)),x.oR.success("Prosjekt fjernet fra kalender")}catch(e){console.error("Error removing project from calendar:",e),x.oR.error("Kunne ikke fjerne prosjekt fra kalender")}},B=async(e,t)=>{try{await (0,c.NA)(e,t),v(j.filter(r=>r.id!==e||r.scheduledDate!==t)),x.oR.success("Vedlikeholdsavtale fjernet fra kalender")}catch(e){console.error("Error removing abonnement from calendar:",e),x.oR.error("Kunne ikke fjerne vedlikeholdsavtale fra kalender")}},Z="all"===y?e:e.filter(e=>e.status===y);return(0,s.jsx)("div",{className:"bg-gray-900 rounded-xl border border-gray-800",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-800",children:[(0,s.jsxs)("button",{className:`px-4 py-3 text-sm font-medium flex items-center ${"month"===r?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,onClick:()=>m("month"),children:[(0,s.jsx)(a.A,{className:"w-4 h-4 mr-2"}),"M\xe5ned"]}),(0,s.jsxs)("button",{className:`px-4 py-3 text-sm font-medium flex items-center ${"week"===r?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,onClick:()=>m("week"),children:[(0,s.jsx)(a.A,{className:"w-4 h-4 mr-2"}),"Uke"]}),(0,s.jsxs)("button",{className:`px-4 py-3 text-sm font-medium flex items-center ${"day"===r?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,onClick:()=>m("day"),children:[(0,s.jsx)(a.A,{className:"w-4 h-4 mr-2"}),"Dag"]})]}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsxs)("div",{className:"w-1/4 border-r border-gray-800 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,s.jsx)("button",{className:`flex-1 px-4 py-2 text-sm font-medium ${"projects"===M?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,onClick:()=>R("projects"),children:"Prosjekter"}),(0,s.jsx)("button",{className:`flex-1 px-4 py-2 text-sm font-medium ${"abonnements"===M?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,onClick:()=>R("abonnements"),children:"Vedlikeholdsavtaler"})]}),"projects"===M&&(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Prosjekter"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>k(!N),className:"flex items-center text-sm text-gray-400 hover:text-white",children:[(0,s.jsx)(n,{className:"w-4 h-4 mr-1"}),"Filter: ","all"===y?"Alle":"active"===y?"Aktive":"completed"===y?"Fullf\xf8rte":"Arkiverte"]}),(0,s.jsx)("div",{ref:P,className:`absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-lg z-10 ${N?"block":"hidden"}`,children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-400 hover:bg-gray-700 hover:text-white",onClick:()=>{w("all"),k(!1)},children:"Alle"}),(0,s.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-400 hover:bg-gray-700 hover:text-white",onClick:()=>{w("active"),k(!1)},children:"Aktive"}),(0,s.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-400 hover:bg-gray-700 hover:text-white",onClick:()=>{w("completed"),k(!1)},children:"Fullf\xf8rte"}),(0,s.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm text-gray-400 hover:bg-gray-700 hover:text-white",onClick:()=>{w("archived"),k(!1)},children:"Arkiverte"})]})})]})]}),(0,s.jsx)("div",{className:"space-y-2 overflow-y-auto flex-1",children:Z.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 cursor-move hover:bg-gray-750 border border-gray-700",draggable:!0,onDragStart:()=>U(e),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-white",children:e.name}),(0,s.jsx)("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${"high"===e.priority?"bg-red-900/50 text-red-400":"medium"===e.priority?"bg-yellow-900/50 text-yellow-400":"bg-green-900/50 text-green-400"}`,children:e.priority})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1 truncate",children:e.client})]},e.id))})]}),"abonnements"===M&&(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-white",children:"Vedlikeholdsavtaler"})}),(0,s.jsx)("div",{className:"space-y-2 overflow-y-auto flex-1",children:t.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 cursor-move hover:bg-gray-750 border border-gray-700",draggable:!0,onDragStart:()=>{O(e),S(null)},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-white",children:e.etternavn}),(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/50 text-blue-400",children:"Vedlikehold"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1 truncate",children:e.adresse}),(0,s.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.kommune})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:(()=>{if("month"===r)return h.toLocaleDateString("nb-NO",{month:"long",year:"numeric"});if("week"!==r)return h.toLocaleDateString("nb-NO",{weekday:"long",day:"numeric",month:"long",year:"numeric"});{let e=new Date(h),t=e.getDay();e.setDate(e.getDate()+(0===t?-6:1-t));let r=new Date(e);r.setDate(r.getDate()+6);let s=e.getMonth()===r.getMonth()?"":e.toLocaleDateString("nb-NO",{month:"long"})+" ";return`${s}${e.getDate()}. - ${r.toLocaleDateString("nb-NO",{day:"numeric",month:"long",year:"numeric"})}`}})()}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{if("month"===r)g(new Date(h.getFullYear(),h.getMonth()-1,1));else if("week"===r){let e=new Date(h);e.setDate(e.getDate()-7),g(e)}else if("day"===r){let e=new Date(h);e.setDate(e.getDate()-1),g(e)}},className:"p-1.5 rounded-full text-gray-400 hover:text-white hover:bg-gray-800",children:(0,s.jsx)(o,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{g(new Date)},className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white",children:"I dag"}),(0,s.jsx)("button",{onClick:()=>{if("month"===r)g(new Date(h.getFullYear(),h.getMonth()+1,1));else if("week"===r){let e=new Date(h);e.setDate(e.getDate()+7),g(e)}else if("day"===r){let e=new Date(h);e.setDate(e.getDate()+1),g(e)}},className:"p-1.5 rounded-full text-gray-400 hover:text-white hover:bg-gray-800",children:(0,s.jsx)(i,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-2",children:["month"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:[0,1,2,3,4,5,6].map(e=>(0,s.jsx)("div",{className:"text-center text-xs font-medium text-gray-400 py-1",children:_(e)},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 flex-1",children:u.map((e,t)=>(0,s.jsxs)("div",{className:`min-h-[100px] rounded-lg border ${e.isCurrentMonth?e.isToday?"bg-blue-900/20 border-blue-800":"bg-gray-800 border-gray-700":"bg-gray-850 border-gray-800"} p-1 relative`,onDragOver:t=>V(t,e.date),onDragEnter:z,onDragLeave:q,onDrop:t=>K(t,e.date),children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,s.jsx)("span",{className:`text-xs font-medium ${e.isCurrentMonth?e.isToday?"text-blue-400":"text-white":"text-gray-500"}`,children:e.dayOfMonth})}),(0,s.jsxs)("div",{className:"space-y-1 overflow-y-auto max-h-[80px] min-h-[60px]",onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("bg-gray-700/50")},onDragLeave:e=>{e.currentTarget.classList.remove("bg-gray-700/50")},onDrop:t=>{t.preventDefault(),t.currentTarget.classList.remove("bg-gray-700/50"),K(t,e.date)},children:[e.projects.map(t=>(0,s.jsxs)("div",{className:`text-xs p-1 rounded relative cursor-move transition-all duration-200 hover:shadow-lg ${"high"===t.priority?"bg-red-900/30 text-red-400 border border-red-800/50 hover:bg-red-900/40":"medium"===t.priority?"bg-yellow-900/30 text-yellow-400 border border-yellow-800/50 hover:bg-yellow-900/40":"bg-green-900/30 text-green-400 border border-green-800/50 hover:bg-green-900/40"}`,onMouseEnter:()=>I(`${t.id}-${e.date.toISOString()}`),onMouseLeave:()=>I(null),children:[(0,s.jsx)("div",{className:"truncate",children:t.name}),E===`${t.id}-${e.date.toISOString()}`&&(0,s.jsxs)("div",{className:"absolute z-10 left-0 top-full mt-1 w-48 bg-gray-900 rounded-lg shadow-lg border border-gray-700 p-2 text-xs",children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-1",children:t.name}),(0,s.jsx)("p",{className:"text-gray-400 mb-1",children:t.client}),(0,s.jsx)("p",{className:"text-gray-400 mb-1 line-clamp-2",children:t.description}),(0,s.jsx)("button",{onClick:()=>W(t.id,e.date.toISOString().split("T")[0]),className:"text-red-400 hover:text-red-300 text-xs mt-1",children:"Fjern fra kalender"})]})]},`project-${t.id}-${e.date.toISOString()}`)),e.abonnements.map(t=>(0,s.jsxs)("div",{className:"text-xs p-1 rounded relative cursor-move transition-all duration-200 hover:shadow-lg bg-blue-900/30 text-blue-400 border border-blue-800/50 hover:bg-blue-900/40",onMouseEnter:()=>L(`${t.id}-${e.date.toISOString()}`),onMouseLeave:()=>L(null),children:[(0,s.jsx)("div",{className:"truncate",children:t.etternavn}),C===`${t.id}-${e.date.toISOString()}`&&(0,s.jsxs)("div",{className:"absolute z-10 left-0 top-full mt-1 w-48 bg-gray-900 rounded-lg shadow-lg border border-gray-700 p-2 text-xs",children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-1",children:t.etternavn}),(0,s.jsx)("p",{className:"text-gray-400 mb-1",children:t.adresse}),(0,s.jsx)("p",{className:"text-gray-400 mb-1",children:t.kommune}),(0,s.jsx)("button",{onClick:()=>B(t.id,e.date.toISOString().split("T")[0]),className:"text-red-400 hover:text-red-300 text-xs mt-1",children:"Fjern fra kalender"})]})]},`abonnement-${t.id}-${e.date.toISOString()}`))]})]},t))})]}),"week"===r&&(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:Array.from({length:7}).map((e,t)=>{let r=new Date(h),l=r.getDay(),a=t-(0===l?6:l-1);return r.setDate(r.getDate()+a),(0,s.jsxs)("div",{className:"text-center py-2",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-gray-400",children:_(t)}),(0,s.jsx)("div",{className:`text-sm font-medium ${r.toDateString()===new Date().toDateString()?"text-blue-400":"text-white"}`,children:r.getDate()})]},t)})}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 flex-1",children:Array.from({length:7}).map((e,t)=>{let r=new Date(h),l=r.getDay(),a=t-(0===l?6:l-1);r.setDate(r.getDate()+a);let n=r.toISOString().split("T")[0],o=f.filter(e=>e.scheduledDate===n),i=j.filter(e=>e.scheduledDate===n);return(0,s.jsx)("div",{className:`min-h-[400px] rounded-lg border ${r.toDateString()===new Date().toDateString()?"bg-blue-900/20 border-blue-800":"bg-gray-800 border-gray-700"} p-2 relative`,onDragOver:e=>V(e,r),onDragEnter:z,onDragLeave:q,onDrop:e=>K(e,r),children:(0,s.jsxs)("div",{className:"space-y-2 overflow-y-auto max-h-full",children:[o.map(e=>(0,s.jsxs)("div",{className:`p-2 rounded relative ${"high"===e.priority?"bg-red-900/30 text-red-400 border border-red-800/50":"medium"===e.priority?"bg-yellow-900/30 text-yellow-400 border border-yellow-800/50":"bg-green-900/30 text-green-400 border border-green-800/50"}`,onMouseEnter:()=>I(`${e.id}-${r.toISOString()}`),onMouseLeave:()=>I(null),children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs mt-1",children:e.client}),E===`${e.id}-${r.toISOString()}`&&(0,s.jsxs)("div",{className:"absolute z-10 left-0 top-full mt-1 w-64 bg-gray-900 rounded-lg shadow-lg border border-gray-700 p-3 text-sm",children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-gray-400 mb-1",children:e.client}),(0,s.jsx)("p",{className:"text-gray-400 mb-2",children:e.description}),(0,s.jsx)("button",{onClick:()=>W(e.id,n),className:"text-red-400 hover:text-red-300 text-xs",children:"Fjern fra kalender"})]})]},`project-${e.id}-${r.toISOString()}`)),i.map(e=>(0,s.jsxs)("div",{className:"p-2 rounded relative bg-blue-900/30 text-blue-400 border border-blue-800/50",onMouseEnter:()=>L(`${e.id}-${r.toISOString()}`),onMouseLeave:()=>L(null),children:[(0,s.jsx)("div",{className:"font-medium",children:e.etternavn}),(0,s.jsx)("div",{className:"text-xs mt-1",children:e.adresse}),C===`${e.id}-${r.toISOString()}`&&(0,s.jsxs)("div",{className:"absolute z-10 left-0 top-full mt-1 w-64 bg-gray-900 rounded-lg shadow-lg border border-gray-700 p-3 text-sm",children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-1",children:e.etternavn}),(0,s.jsx)("p",{className:"text-gray-400 mb-1",children:e.adresse}),(0,s.jsx)("p",{className:"text-gray-400 mb-2",children:e.kommune}),(0,s.jsx)("button",{onClick:()=>B(e.id,n),className:"text-red-400 hover:text-red-300 text-xs",children:"Fjern fra kalender"})]})]},`abonnement-${e.id}-${r.toISOString()}`))]})},t)})})]}),"day"===r&&(0,s.jsx)("div",{className:"flex flex-col h-full",children:(0,s.jsx)("div",{className:"flex-1 p-4 bg-gray-800 rounded-lg border border-gray-700 mt-2 overflow-y-auto",onDragOver:e=>V(e,h),onDragEnter:z,onDragLeave:q,onDrop:e=>K(e,h),children:(0,s.jsxs)("div",{className:"space-y-3",children:[f.filter(e=>e.scheduledDate===h.toISOString().split("T")[0]).map(e=>(0,s.jsxs)("div",{className:`p-4 rounded-lg relative ${"high"===e.priority?"bg-red-900/30 text-red-400 border border-red-800/50":"medium"===e.priority?"bg-yellow-900/30 text-yellow-400 border border-yellow-800/50":"bg-green-900/30 text-green-400 border border-green-800/50"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,s.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"active"===e.status?"bg-blue-900/50 text-blue-400":"completed"===e.status?"bg-green-900/50 text-green-400":"bg-gray-900/50 text-gray-400"}`,children:e.status})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:e.description}),(0,s.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Klient: ",(0,s.jsx)("span",{className:"text-white",children:e.client})]}),(0,s.jsx)("button",{onClick:()=>W(e.id,h.toISOString().split("T")[0]),className:"text-red-400 hover:text-red-300 text-xs",children:"Fjern fra kalender"})]})]},`project-${e.id}`)),j.filter(e=>e.scheduledDate===h.toISOString().split("T")[0]).map(e=>(0,s.jsxs)("div",{className:"p-4 rounded-lg relative bg-blue-900/30 text-blue-400 border border-blue-800/50",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h4",{className:"font-medium text-white",children:e.etternavn}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-900/50 text-blue-400",children:"Vedlikehold"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:e.adresse}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e.kommune}),(0,s.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Fornyelse: ",(0,s.jsx)("span",{className:"text-white",children:e.fornyelsesdato})]}),(0,s.jsx)("button",{onClick:()=>B(e.id,h.toISOString().split("T")[0]),className:"text-red-400 hover:text-red-300 text-xs",children:"Fjern fra kalender"})]})]},`abonnement-${e.id}`)),0===f.filter(e=>e.scheduledDate===h.toISOString().split("T")[0]).length&&0===j.filter(e=>e.scheduledDate===h.toISOString().split("T")[0]).length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)("p",{children:"Ingen aktiviteter planlagt for denne dagen"}),(0,s.jsx)("p",{className:"text-sm mt-2",children:"Dra et prosjekt eller en vedlikeholdsavtale hit for \xe5 planlegge det"})]})]})})})]})]})]})]})})}}};