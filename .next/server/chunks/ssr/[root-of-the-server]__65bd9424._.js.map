{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Eidsheim/Kopi%20av%20driftig%2010.04.25/.ssh/driftig/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || ''\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''\r\n\r\nconsole.log('Supabase URL:', supabaseUrl)\r\nconsole.log('Supabase Anon Key:', supabaseAnonKey ? 'Set' : 'Not set')\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  console.error('Supabase credentials are not set correctly in environment variables')\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n\r\nexport async function fetchTimeEntriesByEmployeeId(employeeId: string) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('time_entries')\r\n      .select('*')\r\n      .eq('employee_id', employeeId)\r\n      .order('date', { ascending: false });\r\n\r\n    if (error) {\r\n      console.error('Error fetching time entries:', error);\r\n      return [];\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Unexpected error fetching time entries:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function updateTimeEntry(entryId: string, updatedFields: Record<string, any>) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('time_entries')\r\n      .update(updatedFields)\r\n      .eq('id', entryId);\r\n\r\n    if (error) {\r\n      console.error('Error updating time entry:', error);\r\n      return null;\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Unexpected error updating time entry:', error);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAErE,QAAQ,GAAG,CAAC,iBAAiB;AAC7B,QAAQ,GAAG,CAAC,sBAAsB,uCAAkB;AAEpD,uCAAsC;;AAEtC;AAEO,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa;AAE3C,eAAe,6BAA6B,UAAkB;IACnE,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,EAAE,CAAC,eAAe,YAClB,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAM;QAEpC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,OAAO,EAAE;QACX;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;QACzD,OAAO,EAAE;IACX;AACF;AAEO,eAAe,gBAAgB,OAAe,EAAE,aAAkC;IACvF,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,gBACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Eidsheim/Kopi%20av%20driftig%2010.04.25/.ssh/driftig/src/app/ansatte/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useParams } from 'next/navigation'\r\nimport { useEffect, useState } from 'react'\r\nimport { format } from 'date-fns'\r\nimport { nb } from 'date-fns/locale'\r\nimport { fetchTimeEntriesByEmployeeId } from '@/lib/supabase'\r\n\r\ninterface TimeEntry {\r\n  id: number\r\n  date: string\r\n  hours: number\r\n  project: string\r\n  comment: string\r\n}\r\n\r\ninterface Employee {\r\n  name: string\r\n  email: string\r\n  phone: string\r\n  role: string\r\n  image: string\r\n}\r\n\r\nconst employeeData: Record<string, Employee> = {\r\n  '1': {\r\n    name: 'Edgar Eidsheim',\r\n    email: 'edgar@driftig.no',\r\n    phone: '123 45 678',\r\n    role: 'Eier/Sjef',\r\n    image: '/images/edgar.jpg'\r\n  },\r\n  '2': {\r\n    name: 'Kim Bråten',\r\n    email: 'kim@driftig.no',\r\n    phone: '234 56 789',\r\n    role: 'Skogarbeider',\r\n    image: '/images/kim.jpg'\r\n  },\r\n  '3': {\r\n    name: 'Kleidas Kotlov',\r\n    email: 'kleidas@driftig.no',\r\n    phone: '345 67 890',\r\n    role: 'Skogarbeider',\r\n    image: '/images/kleidas.jpg'\r\n  }\r\n}\r\n\r\nexport default function EmployeeProfile() {\r\n  const params = useParams()\r\n  const id = params?.id as string\r\n  const [timeEntries, setTimeEntries] = useState<TimeEntry[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [newEntry, setNewEntry] = useState<Omit<TimeEntry, 'id'>>({\r\n    date: format(new Date(), 'yyyy-MM-dd'),\r\n    hours: 7.5,\r\n    project: '',\r\n    comment: ''\r\n  })\r\n  const [showForm, setShowForm] = useState(false)\r\n\r\n  const projects = [\r\n    'Administrasjon',\r\n    'Skigardkløyving', \r\n    'Beising',\r\n    'Trefelling',\r\n    'Transport'\r\n  ]\r\n\r\n  useEffect(() => {\r\n    const fetchTimeEntries = async () => {\r\n      try {\r\n        const data = await fetchTimeEntriesByEmployeeId(id);\r\n        setTimeEntries(data);\r\n      } catch (error) {\r\n        console.error('Error fetching time entries:', error)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    };\r\n    fetchTimeEntries();\r\n  }, [id])\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    try {\r\n      // TODO: Replace with actual Supabase insert\r\n      // const { data } = await supabase\r\n      //   .from('time_entries')\r\n      //   .insert([{ ...newEntry, employee_id: id }])\r\n      //   .select()\r\n      \r\n      // Mock response\r\n      const mockEntry = {\r\n        id: Math.max(0, ...timeEntries.map(e => e.id)) + 1,\r\n        ...newEntry\r\n      }\r\n      \r\n      setTimeEntries([mockEntry, ...timeEntries])\r\n      setNewEntry({\r\n        date: format(new Date(), 'yyyy-MM-dd'),\r\n        hours: 7.5,\r\n        project: '',\r\n        comment: ''\r\n      })\r\n      setShowForm(false)\r\n    } catch (error) {\r\n      console.error('Error saving time entry:', error)\r\n    }\r\n  }\r\n\r\n  const employee = id ? employeeData[id] : undefined\r\n\r\n  if (!employee) {\r\n    return <div className=\"text-white\">Ansatt ikke funnet</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 p-4 md:p-8 ml-0 md:ml-64\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <div className=\"flex flex-col md:flex-row gap-8\">\r\n          {/* Employee info */}\r\n          <div className=\"bg-gray-800 rounded-2xl p-6 border border-gray-700 w-full md:w-1/3\">\r\n            <div className=\"flex flex-col items-center\">\r\n              <div className=\"w-32 h-32 rounded-full bg-gray-700 mb-4 overflow-hidden\">\r\n                {/* Employee image would go here */}\r\n                <div className=\"w-full h-full flex items-center justify-center text-4xl text-gray-400\">\r\n                  {employee.name.charAt(0)}\r\n                </div>\r\n              </div>\r\n              <h2 className=\"text-2xl font-bold text-white\">{employee.name}</h2>\r\n              <p className=\"text-gray-400\">{employee.role}</p>\r\n              \r\n              <div className=\"mt-6 w-full space-y-3\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                  </svg>\r\n                  <span className=\"text-gray-300\">{employee.email}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <svg className=\"w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" />\r\n                  </svg>\r\n                  <span className=\"text-gray-300\">{employee.phone}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Timeføring er flyttet til timeforing-modulen */}\r\n          <div className=\"bg-gray-800 rounded-2xl p-6 border border-gray-700 w-full md:w-2/3 flex items-center justify-center\">\r\n            <div className=\"text-gray-400 text-center\">\r\n              <p>Timeføring for ansatte er nå samlet i <b>Timeføring</b>-modulen.</p>\r\n              <a href=\"/timeforing\" className=\"text-blue-400 underline\">Gå til timeføring</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}