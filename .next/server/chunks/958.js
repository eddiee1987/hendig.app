exports.id=958,exports.ids=[958],exports.modules={4780:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var n=t(49384),a=t(82348);function l(...e){return(0,a.QP)((0,n.$)(e))}},16391:(e,r,t)=>{"use strict";t.d(r,{HK:()=>o,LY:()=>d,ND:()=>s,qi:()=>c,y9:()=>i});var n=t(94025);let a="https://jntsodzdafscwksizfov.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpudHNvZHpkYWZzY3drc2l6Zm92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1NTU1NDAsImV4cCI6MjA1OTEzMTU0MH0.bHJS17KYKP4n2Abs0rp2oO0pFBGW3GorNhsJFyDljR8";console.log("Supabase URL:",a),console.log("Supabase Anon Key:",l?"Set":"Not set"),a&&l||console.error("Supabase credentials are not set correctly in environment variables");let s=(0,n.UU)(a,l);async function i(){try{let{data:e,error:r}=await s.from("lager").select("navn, antall");if(r)return console.error("Error fetching lager:",r),{};let t={};return e?.forEach(e=>{t[e.navn.toLowerCase().replaceAll(" ","_").replaceAll("\xe5","a").replaceAll("\xe6","ae").replaceAll("\xf8","o")]=e.antall}),t}catch(e){return console.error("Unexpected error fetching lager:",e),{}}}async function o(e){try{let{data:r,error:t}=await s.from("lager").select("id, navn");if(t)return void console.error("Error fetching lager for update:",t);for(let[t,n]of Object.entries(e)){let e=t.replaceAll("_"," ").replaceAll("ae","\xe6").replaceAll("o","\xf8").replaceAll("a","\xe5"),a=r?.find(e=>e.navn.toLowerCase().replaceAll(" ","_")===t);a?await s.from("lager").update({antall:Number(n)}).eq("id",a.id):await s.from("lager").insert([{navn:e,antall:Number(n)}])}}catch(e){console.error("Unexpected error updating lager:",e)}}async function c(){try{let{data:e,error:r}=await s.from("lager_transactions").select("created_at, type, antall, kommentar, lager_id, lager:lager_id(navn)").order("created_at",{ascending:!1}).limit(100);if(r)return console.error("Error fetching lager historikk:",r),[];return(e||[]).map(e=>({created_at:e.created_at,navn:e.lager?.[0]?.navn||"",type:e.type,antall:e.antall,kommentar:e.kommentar||""}))}catch(e){return console.error("Unexpected error fetching lager historikk:",e),[]}}async function d({key:e,type:r,antall:t,kommentar:n}){try{let a=e.replaceAll("_"," ").replaceAll("ae","\xe6").replaceAll("o","\xf8").replaceAll("a","\xe5"),l=null,i=0,{data:o}=await s.from("lager").select("id, antall").eq("navn",a).limit(1);if(o&&0!==o.length){if(l=o[0].id,i=o[0].antall,"inntak"===r)i+=t;else if("uttak"===r){if(o[0].antall<t)return{error:"Ikke nok p\xe5 lager for uttak"};i-=t}else"manuell"===r&&(i=t);let{error:e}=await s.from("lager").update({antall:i}).eq("id",l);if(e)return{error:"Kunne ikke oppdatere lagerbeholdning"}}else{if("manuell"!==r)return{error:"Fant ikke varen i lageret"};let{data:e,error:n}=await s.from("lager").insert([{navn:a,antall:Number(t)}]).select("id").single();if(n||!e)return{error:"Kunne ikke opprette ny vare"};l=e.id,i=Number(t)}let{error:c}=await s.from("lager_transactions").insert({lager_id:l,type:r,antall:t,kommentar:n});if(c)return{error:"Kunne ikke registrere transaksjon"};return{success:!0}}catch{return{error:"Uventet feil ved registrering"}}}},27181:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},44263:()=>{},49355:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var n=t(60687);t(44263);var a=t(85814),l=t.n(a),s=t(43210),i=t(16189),o=t(4780),c=t(50515),d=t(27446),h=t(45667),m=t(724),f=t(2969),u=t(83188),p=t(87061),g=t(45994),x=t(81836),b=t(6510);let v=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...e,children:[(0,n.jsx)("rect",{x:"3",y:"10",width:"18",height:"8",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),(0,n.jsx)("path",{d:"M3 10l9-6 9 6",stroke:"currentColor",strokeWidth:"1.5"}),(0,n.jsx)("rect",{x:"9",y:"14",width:"6",height:"4",rx:"1",stroke:"currentColor",strokeWidth:"1.5"})]});function y(){let[e,r]=(0,s.useState)(!1),[t,a]=(0,s.useState)(!1),y=(0,i.usePathname)(),j=e||t,k=[{href:"/timeforing",icon:c.A,label:"Timef\xf8ring"},{href:"/inspeksjoner",icon:d.A,label:"Inspeksjoner"},{href:"/hms",icon:h.A,label:"HMS"},{href:"/abonnement",icon:m.A,label:"Abonnement"},{href:"/prosjekter",icon:h.A,label:"Prosjekter"},{href:"/planlegging",icon:f.A,label:"Planlegging"},{href:"/lager",icon:v,label:"Lager"},{href:"/kunder",icon:u.A,label:"Kunder"},{href:"/ansatte",icon:p.A,label:"Ansatte"},{href:"/rapport",icon:g.A,label:"Rapport"},{href:"/min-side",icon:u.A,label:"Min Side"}];return(0,n.jsxs)("nav",{className:(0,o.cn)("fixed left-0 top-0 h-screen bg-gray-900 border-r border-gray-800 flex flex-col transition-all duration-300 ease-in-out z-10",j?"w-64":"w-16"),onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},children:["a",(0,n.jsxs)("div",{className:(0,o.cn)("flex items-center border-b border-gray-800",j?"justify-between p-6":"justify-center p-4"),children:[j&&(0,n.jsx)(l(),{href:"/dashboard",className:"text-2xl font-bold text-white",children:"Hendig"}),(0,n.jsx)("button",{onClick:()=>{r(!e)},className:"text-gray-400 hover:text-white transition-colors","aria-label":e?"Minimer meny":"Utvid meny",children:e?(0,n.jsx)(x.A,{className:"w-5 h-5"}):(0,n.jsx)(b.A,{className:"w-5 h-5"})})]}),(0,n.jsx)("div",{className:"flex-1 p-2",children:(0,n.jsx)("ul",{className:"space-y-2",children:k.map(e=>{let r=y===e.href,t=e.icon;return(0,n.jsx)("li",{children:(0,n.jsxs)(l(),{href:e.href,className:(0,o.cn)("flex items-center p-3 rounded-lg transition-colors",r?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white",!j&&"justify-center"),title:j?void 0:e.label,children:[(0,n.jsx)(t,{className:(0,o.cn)("w-5 h-5",j?"mr-3":"mx-auto")}),j&&(0,n.jsx)("span",{children:e.label})]})},e.href)})})}),(0,n.jsx)("div",{className:(0,o.cn)("border-t border-gray-800",j?"p-4":"p-2"),children:(0,n.jsxs)("div",{className:(0,o.cn)("flex items-center p-3 rounded-lg hover:bg-gray-800 transition-colors",!j&&"justify-center"),children:[(0,n.jsx)(u.A,{className:(0,o.cn)("w-8 h-8 text-gray-400",j?"mr-3":"")}),j&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"admin@example.com"})]})]})})]})}var j=t(37590);function k({children:e}){let r=(0,i.usePathname)();return(0,n.jsx)("html",{lang:"en",className:"dark",children:(0,n.jsxs)("body",{className:"bg-gray-900 text-gray-100",children:[(0,n.jsxs)("div",{className:"flex min-h-screen",children:["/login"!==r&&(0,n.jsx)(y,{}),(0,n.jsx)("main",{className:"flex-1 transition-all duration-300 ml-16 p-8",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto",children:e})})]}),(0,n.jsx)(j.l$,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})}},57961:(e,r,t)=>{Promise.resolve().then(t.bind(t,49355))},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74445:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},92809:(e,r,t)=>{Promise.resolve().then(t.bind(t,94431))},94431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Eidsheim\\\\Kopi av driftig 10.04.25\\\\.ssh\\\\driftig\\\\src\\\\app\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Eidsheim\\Kopi av driftig 10.04.25\\.ssh\\driftig\\src\\app\\layout.tsx","default")}};