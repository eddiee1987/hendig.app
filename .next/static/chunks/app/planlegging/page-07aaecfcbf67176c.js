(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{3664:(e,t,s)=>{Promise.resolve().then(s.bind(s,5002))},5002:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(5155),r=s(2115),a=s(5306),i=s(7794),l=s(9684),o=s(2099);async function c(){let{data:e,error:t}=await o.ND.from("inspections").select("*").eq("status","planlagt").order("inspection_date",{ascending:!0});if(t)throw console.error("Error fetching planned inspections:",t),t;return e||[]}var d=s(3568);let u=e=>({id:e.id,name:e.name,description:e.description,client:e.client,status:e.status,startDate:e.start_date,endDate:e.end_date,budget:e.budget?Number(e.budget):void 0,priority:e.priority});function h(){let[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{m(!0);let e=await (0,i.JQ)();t(e.map(u));let s=await (0,l.R2)();o(s);let n=await c();p(n)}catch(e){console.error("Error fetching data:",e),d.oR.error("Kunne ikke hente data")}finally{m(!1)}})()},[]),(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 p-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Planlegging"}),(0,n.jsx)("p",{className:"text-gray-400 mt-2",children:"Planlegg og organiser prosjekter og vedlikeholdsavtaler i kalenderen"})]}),(0,n.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-full flex items-center gap-2 shadow-sm transition-all duration-200",onClick:()=>window.location.href="/inspeksjoner/ny",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(0,n.jsx)("span",{children:"Planlegg ny inspeksjon"})]})]}),(0,n.jsx)(d.l$,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}}),(0,n.jsx)("div",{className:"h-[calc(100vh-200px)]",children:x?(0,n.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,n.jsx)(a.A,{projects:e,abonnements:s,inspections:h})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,568,306,441,684,358],()=>t(3664)),_N_E=e.O()}]);