(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{2099:(e,t,a)=>{"use strict";a.d(t,{ND:()=>s,uT:()=>d});var r=a(851);let n="https://jntsodzdafscwksizfov.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpudHNvZHpkYWZzY3drc2l6Zm92Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1NTU1NDAsImV4cCI6MjA1OTEzMTU0MH0.bHJS17KYKP4n2Abs0rp2oO0pFBGW3GorNhsJFyDljR8";console.log("Supabase URL:",n),console.log("Supabase Anon Key:",i?"Set":"Not set"),n&&i||console.error("Supabase credentials are not set correctly in environment variables");let s=(0,r.UU)(n,i);async function d(e){try{let{data:t,error:a}=await s.from("time_entries").select("*").eq("employee_id",e).order("date",{ascending:!1});if(a)return console.error("Error fetching time entries:",a),[];return t}catch(e){return console.error("Unexpected error fetching time entries:",e),[]}}},2239:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(5155),n=a(5695),i=a(2115),s=a(5936);let d={lessThanXSeconds:{one:"mindre enn ett sekund",other:"mindre enn {{count}} sekunder"},xSeconds:{one:"ett sekund",other:"{{count}} sekunder"},halfAMinute:"et halvt minutt",lessThanXMinutes:{one:"mindre enn ett minutt",other:"mindre enn {{count}} minutter"},xMinutes:{one:"ett minutt",other:"{{count}} minutter"},aboutXHours:{one:"omtrent en time",other:"omtrent {{count}} timer"},xHours:{one:"en time",other:"{{count}} timer"},xDays:{one:"en dag",other:"{{count}} dager"},aboutXWeeks:{one:"omtrent en uke",other:"omtrent {{count}} uker"},xWeeks:{one:"en uke",other:"{{count}} uker"},aboutXMonths:{one:"omtrent en m\xe5ned",other:"omtrent {{count}} m\xe5neder"},xMonths:{one:"en m\xe5ned",other:"{{count}} m\xe5neder"},aboutXYears:{one:"omtrent ett \xe5r",other:"omtrent {{count}} \xe5r"},xYears:{one:"ett \xe5r",other:"{{count}} \xe5r"},overXYears:{one:"over ett \xe5r",other:"over {{count}} \xe5r"},almostXYears:{one:"nesten ett \xe5r",other:"nesten {{count}} \xe5r"}};var o=a(2143);let l={date:(0,o.k)({formats:{full:"EEEE d. MMMM y",long:"d. MMMM y",medium:"d. MMM y",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,o.k)({formats:{full:"'kl'. HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,o.k)({formats:{full:"{{date}} 'kl.' {{time}}",long:"{{date}} 'kl.' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},m={lastWeek:"'forrige' eeee 'kl.' p",yesterday:"'i g\xe5r kl.' p",today:"'i dag kl.' p",tomorrow:"'i morgen kl.' p",nextWeek:"EEEE 'kl.' p",other:"P"};var u=a(8265);let c={ordinalNumber:(e,t)=>Number(e)+".",era:(0,u.o)({values:{narrow:["f.Kr.","e.Kr."],abbreviated:["f.Kr.","e.Kr."],wide:["f\xf8r Kristus","etter Kristus"]},defaultWidth:"wide"}),quarter:(0,u.o)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,u.o)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["jan.","feb.","mars","apr.","mai","juni","juli","aug.","sep.","okt.","nov.","des."],wide:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]},defaultWidth:"wide"}),day:(0,u.o)({values:{narrow:["S","M","T","O","T","F","L"],short:["s\xf8","ma","ti","on","to","fr","l\xf8"],abbreviated:["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],wide:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},defaultWidth:"wide"}),dayPeriod:(0,u.o)({values:{narrow:{am:"a",pm:"p",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},abbreviated:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morg.",afternoon:"p\xe5 etterm.",evening:"p\xe5 kvelden",night:"p\xe5 natten"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnatt",noon:"middag",morning:"p\xe5 morgenen",afternoon:"p\xe5 ettermiddagen",evening:"p\xe5 kvelden",night:"p\xe5 natten"}},defaultWidth:"wide"})};var h=a(7291);let g={code:"nb",formatDistance:(e,t,a)=>{let r,n=d[e];if(r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",String(t)),null==a?void 0:a.addSuffix)if(a.comparison&&a.comparison>0)return"om "+r;else return r+" siden";return r},formatLong:l,formatRelative:(e,t,a,r)=>m[e],localize:c,match:{ordinalNumber:(0,a(6943).K)({matchPattern:/^(\d+)\.?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,h.A)({matchPatterns:{narrow:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,abbreviated:/^(f\.? ?Kr\.?|fvt\.?|e\.? ?Kr\.?|evt\.?)/i,wide:/^(før Kristus|før vår tid|etter Kristus|vår tid)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^f/i,/^e/i]},defaultParseWidth:"any"}),quarter:(0,h.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? kvartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,h.A)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mars?|apr|mai|juni?|juli?|aug|sep|okt|nov|des)\.?/i,wide:/^(januar|februar|mars|april|mai|juni|juli|august|september|oktober|november|desember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^aug/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,h.A)({matchPatterns:{narrow:/^[smtofl]/i,short:/^(sø|ma|ti|on|to|fr|lø)/i,abbreviated:/^(søn|man|tir|ons|tor|fre|lør)/i,wide:/^(søndag|mandag|tirsdag|onsdag|torsdag|fredag|lørdag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^s/i,/^m/i,/^ti/i,/^o/i,/^to/i,/^f/i,/^l/i]},defaultParseWidth:"any"}),dayPeriod:(0,h.A)({matchPatterns:{narrow:/^(midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten)|[ap])/i,any:/^([ap]\.?\s?m\.?|midnatt|middag|(på) (morgenen|ettermiddagen|kvelden|natten))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a(\.?\s?m\.?)?$/i,pm:/^p(\.?\s?m\.?)?$/i,midnight:/^midn/i,noon:/^midd/i,morning:/morgen/i,afternoon:/ettermiddag/i,evening:/kveld/i,night:/natt/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}};var f=a(2099);let p={1:{name:"Edgar Eidsheim",email:"edgar@driftig.no",phone:"123 45 678",role:"Eier/Sjef",image:"/images/edgar.jpg"},2:{name:"Kim Br\xe5ten",email:"kim@driftig.no",phone:"234 56 789",role:"Skogarbeider",image:"/images/kim.jpg"},3:{name:"Kleidas Kotlov",email:"kleidas@driftig.no",phone:"345 67 890",role:"Skogarbeider",image:"/images/kleidas.jpg"}};function x(){let e=(0,n.useParams)(),t=null==e?void 0:e.id,[a,d]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[m,u]=(0,i.useState)({date:(0,s.GP)(new Date,"yyyy-MM-dd"),hours:7.5,project:"",comment:""}),[c,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,f.uT)(t);d(e)}catch(e){console.error("Error fetching time entries:",e)}finally{l(!1)}})()},[t]);let x=async e=>{e.preventDefault();try{let e={id:Math.max(0,...a.map(e=>e.id))+1,...m};d([e,...a]),u({date:(0,s.GP)(new Date,"yyyy-MM-dd"),hours:7.5,project:"",comment:""}),h(!1)}catch(e){console.error("Error saving time entry:",e)}},v=t?p[t]:void 0;return v?(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 p-4 md:p-8 ml-0 md:ml-64",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,r.jsx)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 w-full md:w-1/3",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-32 h-32 rounded-full bg-gray-700 mb-4 overflow-hidden",children:(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl text-gray-400",children:v.name.charAt(0)})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:v.name}),(0,r.jsx)("p",{className:"text-gray-400",children:v.role}),(0,r.jsxs)("div",{className:"mt-6 w-full space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,r.jsx)("span",{className:"text-gray-300",children:v.email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,r.jsx)("span",{className:"text-gray-300",children:v.phone})]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 w-full md:w-2/3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Timef\xf8ring"}),(0,r.jsx)("button",{onClick:()=>h(!c),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:c?"Avbryt":"Ny timef\xf8ring"})]}),c&&(0,r.jsxs)("form",{onSubmit:x,className:"bg-gray-700/50 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Dato"}),(0,r.jsx)("input",{type:"date",value:m.date,onChange:e=>u({...m,date:e.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Timer"}),(0,r.jsx)("input",{type:"number",step:"0.5",min:"0.5",max:"24",value:m.hours,onChange:e=>u({...m,hours:parseFloat(e.target.value)}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white",required:!0})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Prosjekt"}),(0,r.jsxs)("select",{value:m.project,onChange:e=>u({...m,project:e.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Velg prosjekt"}),["Administrasjon","Skigardkl\xf8yving","Beising","Trefelling","Transport"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Kommentar (valgfritt)"}),(0,r.jsx)("textarea",{value:m.comment,onChange:e=>u({...m,comment:e.target.value}),className:"w-full bg-gray-600 border border-gray-500 rounded-lg px-3 py-2 text-white",rows:2})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-4",children:(0,r.jsx)("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Lagre"})})]}),o?(0,r.jsx)("div",{className:"text-gray-400",children:"Laster timef\xf8ring..."}):0===a.length?(0,r.jsx)("div",{className:"text-gray-400",children:"Ingen registrerte timer"}):(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,r.jsx)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-white",children:e.project}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:(0,s.GP)(new Date(e.date),"EEEE d. MMMM yyyy",{locale:g})}),e.comment&&(0,r.jsx)("p",{className:"text-sm text-gray-300 mt-2",children:e.comment})]}),(0,r.jsxs)("div",{className:"text-lg font-semibold text-white",children:[e.hours," timer"]})]})},e.id))})]})]})})}):(0,r.jsx)("div",{className:"text-white",children:"Ansatt ikke funnet"})}},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},5759:(e,t,a)=>{Promise.resolve().then(a.bind(a,2239))}},e=>{var t=t=>e(e.s=t);e.O(0,[851,936,441,684,358],()=>t(5759)),_N_E=e.O()}]);